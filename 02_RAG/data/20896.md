# 자신만의 Siri를 클라우드 없이 로컬 및 온디바이스로 구축하기


* LLM API와 클라우드에 의존하지 않고, **온디바이스에서 실행되는 개인 음성 비서**를 직접 만드는 방법
* 이 비서는 **자연어를 이해하고**, **개인 함수 호출을 수행하며**, **오직 로컬에서 작동**하므로 **완전한 프라이버시 보장**이 가능함
* 이를 위해 LLaMA 3.1 모델을 **LoRA 방식으로 미세조정**하고, Whisper를 활용해 **음성을 텍스트로 변환**한 뒤, 이를 명령어로 해석해 기기에서 직접 실행함
* 프로젝트는 **데이터셋 생성 → 파인튜닝 → 음성 인터페이스 연결 → 테스트 및 배포**로 구성되며, 각각을 다루는 5부작 무료 미니 강좌로 제공됨
* “온디바이스 실행 = 단순”이라는 오해를 경계하며, **로컬에서도 MLOps적 사고와 철저한 품질 관리가 필수**임을 강조

---

왜 로컬 음성 비서를 지금 만들어야 할까?
-----------------------

* ChatGPT와 대화는 유용하지만, 단순한 명령까지 클라우드에 보내야 할까?
* 내 디바이스에 모델이 직접 설치되어 있다면 **속도**, **프라이버시**, **제어권** 모두 확보 가능
* 특히 **의료, 법률, 사내툴** 등 민감한 환경에서 유용함

전체 아키텍처 개요
----------

### 프로젝트 구성 요소

1. **음성 인식 (Whisper)** → 텍스트로 변환
2. **LLM (LLaMA 3.1)** → 명령어 해석
3. **함수 실행기** → `lock_screen()` 같은 실제 기능 실행

Part 1: 아키텍처와 MLOps 사고방식
------------------------

### 로컬에서도 MLOps가 필요한 이유

* **모델 드리프트**, **프롬프트 변화**, **데이터셋 신뢰성**, **디버깅 로깅 부족** 문제 존재
* “로컬만으로 충분하다”는 생각은 위험하며, 체계적 접근이 필요함

### 온라인 개발 vs 오프라인 실행

* 개발(파인튜닝, 데이터 생성)은 **클라우드에서 진행**, 실행은 **로컬에서 동작**
* 이 과정을 **명확하게 분리**하고 체계적으로 관리하는 것이 MLOps의 핵심

데이터셋 생성 (Dataset Generation Flow)
---------------------------------

* 단순한 프롬프트 수집이 아닌, **정형화된 함수 호출 패턴과 대화형 요청 구조 설계**
* **다양한 표현, 의도, 실패 케이스**를 포괄하는 고품질 데이터셋 생성

#### 핵심 포인트

* `lock_screen()` → “화면 잠가줘”와 같은 다양한 자연어 표현을 포함
* 자동 검증 엔진을 통해 출력이 의도한 형태인지 확인

파인튜닝 (Instruction Tuning for Function Calling)
----------------------------------------------

* **정확한 명령 매핑**을 위한 소형 모델(SFT 방식) 미세조정
* **Unsloth**, **W&B**, **GGUF 포맷 추출** 등 실무 도구 활용

#### 목표

* LLaMA 3.1 8B를 로컬에서 동작 가능한 4bit 모델로 전환
* Raspberry Pi까지 타겟 가능한 경량화 추구

모델 연결 및 실제 실행
-------------

* Whisper로 음성 입력을 텍스트로 변환
* Fine-tuned LLM이 명령어를 해석
* 로컬 API 함수 실행기(`lock_screen()`, `get_battery_status()` 등)와 연결

#### 결과

* **실시간 음성 비서** 동작 가능
* **네트워크 불필요**, **개인정보 유출 없음**, **완전한 사용자 제어 가능**

오프라인 단계에서의 리스크 관리
-----------------

* 다양한 디바이스, OS에서 테스트 필요
* **로깅 시스템** 구축 필수 (opt-in 형태로 수동 제출)
* 정식 배포 전 **스트레스 테스트 및 사용자 피드백**으로 문제 조기 포착

향후 계획
-----

* 다음 강의에서는 **함수 호출용 데이터셋 생성 실습**을 진행
* 자연어 명령 → API 호출 매핑을 학습하는 **전용 데이터셋을 구조적으로 구축**
* **스크래핑 금지**, 오직 **프롬프트 기반 시뮬레이션 및 자동 검증 데이터만 사용**

결론
--

* 로컬 AI 시스템은 단순하지만 **안정성과 품질은 더 높은 수준의 관리**가 요구됨
* **클라우드 로그, 핫픽스에 의존하지 않기 때문에 더 높은 신뢰성과 책임감 필요**
* 이를 위해 **MLOps적인 사고방식과 구조적 설계**를 처음부터 적용해야 함

> “프라이버시 중심, 로컬 우선의 진짜 AI 비서를 만드는 시대가 왔다”  
> 다음 편에서는 **실제 명령어-함수 매핑용 데이터셋 생성 실습**을 시작함.


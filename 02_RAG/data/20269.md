# 내 데이터 소유하기, 1부: 셀프 호스팅 캘린더 솔루션 통합


소개
--

* 데이터와 기술을 직접 소유하고자 하는 시리즈의 첫 번째 부분으로, 자체 호스팅 캘린더 솔루션을 통합하는 방법에 대해 설명함.
* 여행이 잦아 일정 관리가 복잡해지고, 기존 캘린더 시스템의 불편함을 해결하기 위해 자체 솔루션을 구축하게 됨.

요구 사항
-----

* 일정이 업무 캘린더에 차단 요소로 표시됨.
* 아내가 캘린더를 구독할 수 있음.
* 이벤트를 한 번만 입력할 수 있음.
* 여러 기기에서 편집 가능.
* 데이터를 완전히 제어할 수 있음.
* 업무 캘린더를 아내와 공유하는 방식으로 문제를 해결할 수 없음.

이전 솔루션
------

* 기존 캘린더 공유 솔루션은 공통 플랫폼을 요구하거나 제한된 기능을 제공함.
* YAML 파일을 사용해 캘린더 이벤트를 작성하고, 이를 ICS 파일로 변환하여 공유하는 방식으로 시작했으나, 유지보수가 어려워짐.

아키텍처
----

* CalDAV 서버를 사용하여 여러 기기에서 캘린더를 관리할 수 있는 솔루션을 구축함.
* 다양한 데이터 소스와 연결하여 이벤트를 자동으로 업데이트하고, 이를 ICS 파일로 제공함.

Baïkal 설정
---------

* Baïkal을 사용해 CalDAV 서버를 설정하고, Docker Compose를 통해 쉽게 배포함.
* nginx 리버스 프록시를 사용해 웹에서 접근 가능하도록 설정함.

이벤트 분류 체계 설정
------------

* iCalendar의 CATEGORIES 속성을 활용해 이벤트를 분류하고, Python enum을 사용해 데이터 모델을 작성함.
* 이를 통해 이벤트를 쉽게 검색하거나 색상으로 구분할 수 있도록 함.

캘린더 컴파일 및 공유
------------

* IMAP, API, ICS 파일 등을 통해 이벤트를 자동으로 가져와 Baïkal에 추가하고, 이를 ICS 파일로 변환하여 웹에 공유함.
* 크론 작업을 통해 15분마다 업데이트되도록 설정함.

업무 캘린더와의 공유
-----------

* Google Script Engine을 사용해 이벤트를 업무 캘린더에 복사하고, CATEGORIES 속성을 기반으로 색상 코딩을 적용함.

결론
--

* 6개월간의 테스트를 통해 시스템이 잘 작동하며, 여행 일정 관리에 큰 도움이 됨.
* 월 $100의 서버 비용이 들지만, 일정 관리의 편리함으로 인해 충분한 가치가 있다고 판단함.

# GitHub Actions에서 어떤 프로그램이든 셸로 사용 가능함


* GitHub Actions에서 `run:` 블록을 실행할 때 사용하는 셸을 `shell` 키워드로 지정할 수 있음
* 워크플로에서는 선택 사항이지만, 개별 액션 정의에서는 필수 항목임
* 기본값은 운영체제에 따라 자동 지정됨: Linux/macOS는 `bash`, Windows는 `pwsh`
* 명시적으로 `shell: bash`를 설정하면, 다음과 같은 기본 플래그도 포함됨: `--noprofile --norc -eo pipefail`

### 아무 실행 파일이나 `shell`로 지정 가능함

* 일반적으로 `shell`에 사용할 수 있는 값이 제한되어 있다고 생각하기 쉬움
* 실제로는 `$PATH`에 있는 모든 실행 파일을 셸로 사용할 수 있음
* 실행 명령이 파일 입력을 받지 않으면, 특별한 인자인 `{0}`를 넘겨야 함
* `{0}`는 GitHub가 자동으로 임시 파일 경로로 대체해 줌

### 실험적인 예시들

* C 언어 컴파일러(tcc)를 셸처럼 사용하여 직접 실행하는 것도 가능함
* `$PATH`를 조작하여 가짜 `bash` 셸을 만들어 사용하는 것도 가능함
* GitHub는 `shell` 항목에 명시된 값이 실제 어떤 실행 파일이든 상관하지 않음

### 보안적 시사점

* GitHub Actions에서는 파일 쓰기와 실행 간의 경계가 희미함 (`GITHUB_ENV`, `$GITHUB_PATH` 등으로도 실행 가능성 존재)
* `shell: bash` 등 잘 알려진 값조차도 `$PATH`를 통해 탐색되며, 고정된 실행 경로(`/bin/bash`)를 사용하지 않음
* 예상과 달리, `python`과 같은 값도 단순한 툴캐시 참조가 아닌 실제 경로 기반 실행임

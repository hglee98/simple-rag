# HN 공개: ESP32와 e-paper 화면을 활용한 물리적 포모도로 타이머


### ESP32 기반 집중 타이머 프로젝트

ESP32와 ePaper 디스플레이, 회전 다이얼을 사용한 집중 타이머 프로젝트임. 이 저장소의 코드는 일부 자산과 폰트가 제거되어 바로 사용하기는 어려우나, 필요에 따라 수정 가능함.

#### 부품 목록

* ESP32 (AZDelivery ESP32 NodeMCU 사용)
* WaveShare 4.26인치 e-Paper 디스플레이 HAT, 800x480
* KY-040 회전 인코더와 버튼
* WS2812 LED (간단한 RGB LED로 대체 가능)
* USB-C 커넥터
* 3D 프린팅 케이스
* 저항 및 0.1uF 커패시터

#### 프로젝트 기원

생산성 향상 기술을 시도하는 것을 좋아하며, 매년 다른 사람에게 도움이 되는 프로젝트에 시간을 투자함. 전자공학 엔지니어로서의 경험을 살려 물리적인 장치를 만들고자 했으며, 친구의 시간 관리 문제를 해결하기 위해 집중 타이머를 제작하게 됨.

#### 부품 선택 이유

##### ePaper 디스플레이

* 백라이트가 없는 디스플레이를 원했으며, 4.26인치 디스플레이를 선택한 이유는 다음과 같음:
  + 뛰어난 해상도
  + 적절한 크기
  + 부분 새로 고침 지원

##### 회전 인코더

* 직관적인 입력 장치로 회전 다이얼을 선택했으며, 신호를 부드럽게 하기 위해 0.1uF 커패시터를 추가함.

##### LED

* 초기에는 LED 계획이 없었으나, 디스플레이의 미묘함을 보완하기 위해 WS2812 LED를 사용하여 다양한 상태를 표시함.

#### 케이스 제작

* 케이스는 두 부분으로 구성되며, 프린팅 시 상단 가장자리가 약간 휘어지는 문제가 있음. 이를 해결하기 위해 고무 발과 무게를 추가함.

#### 소프트웨어

* C++로 작성되었으며, Arduino 프레임워크를 사용함. GxEPD2 라이브러리를 활용하여 디스플레이를 제어하며, 프로젝트의 일부 코드는 AI를 통해 생성됨.

#### 장치 사용법

* 장치 시작 시 설정 변경 또는 프리셋 선택 모드로 진입 가능함. 타이머가 시작되면 LED가 깜박이며 화면에 메시지가 표시됨. 작업을 계속하거나 휴식을 시작할 수 있으며, 몇 번의 반복 후에는 더 긴 휴식 시간이 주어짐.

#### 개발

##### 핀 매핑

###### 회전 인코더 (KY-040)

* CLK: 32
* DT: 21
* SW: 14

###### ePaper 디스플레이 (GxEPD2\_426\_GDEQ0426T82, WaveShare 4.26" b/w)

* BUSY: 4
* RST: 16
* DC: 17
* CS: 5
* CLK: 18
* DIN: 23

###### LED (WS2812)

* DIN: 25

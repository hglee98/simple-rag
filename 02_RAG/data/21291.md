# DiffX – 차세대 확장 가능한 Diff 포맷


* **기존 Unified Diff 포맷**은 개발 환경의 요구사항을 충분히 반영하지 못하는 한계점 존재
* **DiffX**는 기존 형식과 **완벽하게 호환되며**, 미래를 고려한 구조와 메타데이터 확장성 제공
* 여러 **커밋 정보**와 **바이너리 파일**, 문자 인코딩 및 메타데이터를 **구조화된 방식**으로 저장 가능함
* 표준화된 **파싱 규칙** 도입으로 다양한 도구(패치, 코드 리뷰 등)가 쉽게 연동 가능함
* 기존 **도구 및 워크플로우**에서는 문제없이 사용 가능하며, 새로운 기능만 해당 도구의 지원 필요

---

개발자와 Diff 파일
------------

* 소프트웨어 개발자들은 보통 **Git, Subversion, CVS** 등에서 diff 파일로 코드 변경 내역을 확인함
* Diff 파일은 **텍스트 삽입(`+`)·삭제(`-`)** 와 파일 이름, 경로, 타임스탬프, 일부 메타데이터 등을 포함하는 구조임
* 대부분의 도구와 사용자는 **Unified Diff** 형식을 이용하며, 이 방식은 비교적 간단하게 차이점을 시각화함

Unified Diff의 한계
----------------

* **Unified Diff**는 파일 식별, 변경 범위, 삽입·삭제된 줄만을 표준화할 뿐, **인코딩, 리비전, 확장 메타데이터** 등은 표준화하지 않음
* 다양한 **소스 관리 시스템** 지원, 신뢰성 있는 파싱, 풍부한 정보 추출이 어려움
* 다음과 같은 문제점이 계속 발생함
  + 여러 개의 **커밋**을 한 번에 표현 불가함
  + **바이너리 파일**에 대한 전용 표준 형식 부족
  + **문자 인코딩**을 알 수 없어 정보 손실, 혼동 발생
  + **임의 메타데이터**의 표준화 미비로 각 도구별로 형태가 상이함

개선 방향
-----

* 기존 Unified Diff는 구조와 표준이 부족하지만, 유연하고 다양한 환경에 이미 널리 퍼져 있음
* **Git Diff**가 사실상 표준 역할을 하는 중이지만, 여전히 포맷의 공식 명세와 범용 확장성은 부족함
* 기존 Unified Diff의 장점을 살리면서, **확장성과 표준 구조**를 가미한 새로운 형식 필요성이 증대됨

DiffX란 무엇인가
-----------

* **DiffX**는 확장 가능한 Diff 포맷으로, 기존 도구와 **완벽히 호환**되며, 인적 가독성을 유지함과 동시에 **메타데이터**와 구성을 구조적으로 담을 수 있음
* 구문 예시:
  + 파일, 커밋, 전체 diff 등에 대해 **메타데이터**와 **본문**을 구조적, 확장 방식을 활용해 저장함
  + 예시 출력에서는 `#diffx:`와 같은 구문과, section, 메타데이터(JSON), 파일 경로, 커밋 정보 등이 포함됨

DiffX의 주요 특장점
-------------

* **표준화된 파싱 규칙** 제공, 도구에서 신뢰성 있게 정보를 읽고 쓸 수 있음
* **메타데이터 저장**·관리의 공식화: 전체 diff, 커밋, 파일 단위별로 사용 가능함
* 기존 파서, 패처, 코드 리뷰 등 **모든 도구와 호환**됨 (새 기능은 지원 필요하나, 기존 기능은 호환성 보장)
* 한 파일에서 **여러 커밋, 바이너리 diff, 텍스트 인코딩 정보** 등 복수의 내용을 효율적 구조로 표현 가능함
* 도구에서 diff를 열어 필요한 정보를 기록 및 수정 후 다시 저장하는 **변경성**(mutability) 지원

DiffX의 지향점 및 비지향점
-----------------

* 모든 도구의 포맷 지원을 강요하거나, 호환성 문제를 만들지 않음
* **벤더 종속성**을 유발하지 않으며, **기존 워크플로우**를 깨지 않음
* 기존 Diff 파일의 문제점을 해소하고, 개발·리뷰·분석 도구에서 일관되고 신뢰성 있는 사용 경험을 제공함
